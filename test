import numpy as np 
import matplotlib.pylab as plt


#constante 

M = 1 #kg
V0 = 70. #m
g = 9,81 #m/s^2
dt = 0.1 #s
n = 0.00 #Etat
teta = np.pi/4
y0 = 0.0
x0 = 0.0
V0x = V0*np.cos(teta)
V0y = V0*np.sin(teta)


def f1(xp, yp) :
    return -n/M*xp 


def f2(xp, yp) :
    return -n/M*yp - g 




def euler(dt, x, y, xp, yp):    
    pi1 = xp + f1(xp, yp)*dt
    qi1 = yp + f2(xp, yp)*dt
    xi1 = x + xp*dt
    yi1 = y + yp*dt
    return np.array([pi1, qi1, xi1, yi1]) 



tab_x_euler = np.array([0])
tab_y_euler = np.array([0])
tab_xp_euler = np.array([V0x])
tab_yp_euler = np.array([V0y])


x = tab_x_euler[0]
y = tab_y_euler[0]
xp = tab_xp_euler[0]
yp = tab_yp_euler[0]
i =0




while y >= 0 :
    xp, yp, x , y = euler(dt, x, y, xp, yp)
    i += 1
    if i > 1 :
        y = y[1]
    print(y, yp, i)
    tab_x_euler = np.append(tab_x_euler, x)
    tab_y_euler = np.append(tab_y_euler, y)
    tab_xp_euler = np.append(tab_xp_euler,xp)
    tab_yp_euler = np.append(tab_yp_euler,yp)
    
