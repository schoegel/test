import numpy as np
import matplotlib.pylab as plt

#pi = xp qi = yp ppoint = f1 qpoint = f2

G = 9.83 #m/s²

ETA = 0.00 #kg/s 

MASSE = 1 #kg 

V0 = 70. #m/s

TETA = np.pi/4

dt = 0.1

x0 = 0

y0 = 0

V0x = V0*np.cos(TETA)

V0y = V0*np.sin(TETA)


def f1(xp, yp) :
    return -ETA/MASSE*xp

def f2(xp, yp) :
    return -ETA/MASSE*yp - G


print("Euler")

def euler(dt, x, y, xp, yp):    
    pi1 = xp + f1(xp, yp)*dt
    qi1 = yp + f2(xp, yp)*dt
    xi1 = x + xp*dt
    yi1 = y + yp*dt
    return np.array([pi1, qi1, xi1, yi1]) 




tab_x_euler = np.array([x0])
tab_y_euler = np.array([y0])
tab_xp_euler = np.array([V0x])
tab_yp_euler = np.array([V0y])

x = tab_x_euler[0]
y = tab_y_euler[0]
xp = tab_xp_euler[0]
yp = tab_yp_euler[0]
i = 0



while y >= 0 :     
    xp, yp, x, y = euler(dt, x, y ,xp ,yp)
    i += 1
    print(i, yp,  y)
    tab_x_euler = np.append(tab_x_euler, x)
    tab_y_euler = np.append(tab_y_euler, y)
    tab_xp_euler = np.append(tab_xp_euler, xp)
    tab_yp_euler = np.append(tab_yp_euler, yp)
 

plt.plot(tab_x_euler,tab_y_euler, label = "euleur")
plt.title("méthode d'intégration euleur")
plt.xlabel("distance")
plt.ylabel("hauteur")
plt.show()
    
